"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isRouteSegment = exports.isRouteGroup = exports.isColocating = void 0;
/**
 * Determines if the path is a route group
 * @param path 
 * @returns 
 */
var isRouteGroup = function isRouteGroup(path) {
  var fileName = path.split('/').pop();
  // if file name start with ( and end with ) it is a route group
  if (fileName !== null && fileName !== void 0 && fileName.startsWith('(') && fileName !== null && fileName !== void 0 && fileName.endsWith(')')) return true;
  return false;
};

/**
 * Determines if the path is a route segment
 * @param path 
 * @returns 
 */
exports.isRouteGroup = isRouteGroup;
var isRouteSegment = function isRouteSegment(path) {
  var fileName = path.split('/').pop();
  // if file name start with [ and end with ] it is a route segment
  if (fileName !== null && fileName !== void 0 && fileName.startsWith('[') && fileName !== null && fileName !== void 0 && fileName.endsWith(']')) return true;
  return false;
};

/**
 * check if a route is colocating and set the type to Colocating
 * @param route 
 * @returns 
 */
exports.isRouteSegment = isRouteSegment;
var isColocating = function isColocating(route) {
  var _route$data, _route$data$nextFiles, _route$children$every, _route$children;
  // check if contains next files
  var hasPageOrRouteFile = route !== null && route !== void 0 && (_route$data = route.data) !== null && _route$data !== void 0 && (_route$data$nextFiles = _route$data.nextFiles) !== null && _route$data$nextFiles !== void 0 && _route$data$nextFiles.length ? true : false;

  // check if children are all colocating, if no children then consider possible colocating
  var allChildrenAreColocating = (_route$children$every = (_route$children = route.children) === null || _route$children === void 0 ? void 0 : _route$children.every(function (child) {
    return child.data.type === 'Colocating';
  })) !== null && _route$children$every !== void 0 ? _route$children$every : true;
  if (!hasPageOrRouteFile && allChildrenAreColocating) route.data.type = 'Colocating';
  return route;
};
exports.isColocating = isColocating;