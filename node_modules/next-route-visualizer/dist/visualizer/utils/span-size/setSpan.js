"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setRouteSpans = void 0;
var _constants = require("../../constants");
var _getSpan2 = require("./getSpan");
/**
 * Set the spans for the route and subroutes.
 * This is useful to calculate the x position of the nodes later
 * @param route 
 * @returns Route
 */
var setRouteSpans = function setRouteSpans(route) {
  //apply default if no children
  if (!route.children || route.children.length === 0) {
    route.data.maxSpan = 1;
    route.data.spanSize = _constants.NODE_WIDTH;
    route.data.directlySpanning = 0;
    return route;
  }
  // get the span
  var _getSpan = (0, _getSpan2.getSpan)(route.children),
    maxSpan = _getSpan.maxSpan,
    spanning = _getSpan.spanning;
  route.data.maxSpan = maxSpan === 0 ? 1 : maxSpan;
  route.data.directlySpanning = spanning;
  route.data.spanSize = (0, _getSpan2.getSpanSize)(route.data.maxSpan);
  return route;
};
exports.setRouteSpans = setRouteSpans;